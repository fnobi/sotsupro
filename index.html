<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="./stylesheets/style.css"><script type="text/javascript" src="./javascripts/jquery-1.8.2.js"></script><script type="text/javascript" src="./javascripts/html5.js"></script><script type="text/javascript" src="./javascripts/toc.js"></script><title>Webインタフェース構築のためのstate chart型言語</title></head><body><div id="wrap"><header id="header"><header>卒業論文 平成 24 年度(2012 年度)</header><h1>Webインタフェース構築のためのstate chart型言語</h1><footer>慶應義塾大学 環境情報学部<br>藤澤伸</footer></header><section id="abstruct"><h1>概要</h1>非同期処理を含むWebインタフェースを構築するための手法として、state chartを取り入れたヴィジュアルプログラミング環境を提案する。</section><section><h1>目次</h1><aside id="toc"></aside></section><article id="main"><section><h1>背景</h1><section><h1>Webアプリケーションの実装</h1><p>Webアプリケーションを制作する際、どのようなコンテンツを生成・提供するかを決めるサーバーサイド処理、ユーザーの挙動に対応して、コンテンツを操作したり、サーバーに新たなリクエストを送ったりするクライアントサイド処理の2種類のプログラムが考えられる。</p></section><section><h1>非同期処理(Ajax)</h1><p>クライアントサイドでは、ユーザーの動作や、Ajaxを用いた外部ファイル読み込み等が頻繁に行われる。Ajaxとは、Asynchronous JavaScript + XMLの略であり、処理を非同期で行うことによって、並列化により処理終了までの時間を短縮することができる。</p><!-- blockquote--><!--   | Ajaxは従来のWebの動機型通信と異なり、ページ遷移を行わずに非同期でサーバとのデータの送受信を行い、ページの一部だけを更新することができる。そのため、ページの全ての情報ご更新するページングと比較すると、データの通信料が少なく、サーバに対する不可も少ない。よって、応答速度に優れた操作性を持ったインターフィエイスを提供することができる。--><!--   | また現在利用されている、ほとんどのブラウザで利用可能なスクリプト言語である、Javascriptを中心としたマッシュアップ技術であることから、特殊なプラグインソフトウェアをインストールすることなく利用可能となる。--></section><section><h1>HTML5の普及による影響</h1><p>現在のWebアプリケーション開発において、この非同期処理が担っている役割は大きい。HTML5の普及により、Webアプリケーションがよりリッチなインタフェースを持つようになったことが、その理由だ。これにより、スマートフォンへのマルチタッチや、本体を振るなど多種多様なイベントに対する振る舞いを取り扱う必要が出てきた。また、新しいデータを取得する場合にも、HTML全体をリクエストし直すより、Ajaxを用いて必要なデータのみをリクエストし、それを受け取ってインタフェースに組込む処理を行う、という流れが普通になってきている。</p></section></section><section><h1>研究の目的</h1><section><h1>問題提起</h1><p>こうした流れの一方で、非同期処理は開発者にとっては分かりづらい部分も増やしている。例えば、関数がソースコード上で書かれている順番と、実行される順番が大きく異なる場合もある。かならず立て続けに実行される処理でも、ソースコード上では一続きに書くことができない、ということが起きる。</p><p>ソースコードの理解しづらさは、プログラムのメンテナンス性、また共同で開発をする場合の共有のしやすさ等の観点から、開発における障害となる。しかしながら、この読みづらいコードを取り扱わなければならないという問題に対して、いまのところ抜本的な解決策はない。</p><p>本研究では、こうしたWebインタフェースの非同期プログラミングにおける、メンテナンス性・共有性を改善する開発環境を提案する。</p></section><section><h1>解決方法</h1><p>本研究では、この問題を解決するためのヴィジュアルプログラミング環境を作成する。実行の位置が動的に変化する非同期処理を、上から下へと進むことしかできない、テキストのプログラミングで分かりやすく表現することには、限界があるからだ。</p><p>非同期処理がいくつもある形の処理は、いつどの処理が終わるのを待っているか、待ち状態の遷移の形で表現できると考えられるため、state chartを取り入れた表現方法を用いる。</p></section></section><section><h1>先行研究との比較</h1><section><h1>async.js, deffered.js</h1><p>ライブラリのレベルで、非同期処理をシンプルに書こうとする試みも、もちろんある。Javascriptのライブラリ「async.js」と「deffered.js」は、その中でも比較的よく知られているものだ。</p><blockquote><code><pre>async.series([
    function(callback){
        // do some stuff ...
        callback(null, 'one');
    },
    function(callback){
        // do some more stuff ...
        callback(null, 'two');
    },
],
// optional callback
function(err, results){
    // results is now equal to ['one', 'two']
});</pre></code></blockquote><em>async.jsを用いた非同期処理記述の例</em><p>ただし、いずれのライブラリも目的は、連続した非同期処理を、同期処理のように連続した形で書くことだ。すなわち、一続きになっている非同期処理を見やすい形で記述することは可能だが、コードのさまざまな場所で非同期処理が発生している場合の分かりづらさは、解決できない。</p></section><section><h1>Webサイト構築のためのビジュアルプログラミング言語</h1><p>Webサイトをビジュアルプログラミングで構築する試みは、以前にもあった。</p><p>ビジュアルプログラミング言語「ゆば」は、Webサービスを構築する際のハードルを下げるために開発され、データベースと連携した本格的なアプリケーションを、ビジュアル言語のみで記述できた。</p><img src="./img/yuba.jpg" alt="「ゆば」のエディター画面"><p>また、既にサービスとして運用されているものとしては「Yahoo! Pipes」がある。こちらは、サーバーサイドでのデータ整形に特化したプログラミング環境で、複数のAPIから情報を組み合わせて、新たなデータを生成することができる。</p><img src="./img/yahoopipes.gif" alt="「Yahoo! Pipes」によるプログラミング"><p>いずれの言語も、それぞれ異なった目的を持っている。本研究のように非同期処理をシンプルにするという目的、またWebインタフェースに特化したビジュアルプログラミング言語は未だない。</p></section></section><section><h1>実装</h1><section><h1>システム仕様</h1><img src="./img/Screen Shot 2013-01-20 at 19.01.19.png" alt="実際の画面"><p>本研究では、Javascriptをベースにしたビジュアルプログラミング環境(以下、本システム)を実装した。本システムの開発は、Javascript(Node.jsによるサーバーサイド実装も含む)で行った。</p></section><section><h1>state chartの実装について</h1><p>本システムの骨子には、JavascriptによるStateMachine実装がある。</p></section></section><section><h1>考察</h1><section><h1>目的の再確認</h1><p>本研究の目的は、Webインタフェースの非同期プログラミングにおける、メンテナンス性・共有性を改善する、ツールを提案することである。この章では、今回開発したヴィジュアルプログラミング環境「sugoroku」が、プログラムのメンテナンス性・共有性を向上させることができるかどうかを評価する。</p></section><section><h1>実験</h1><p>まず本システムを使って、簡単なSNS風Webアプリケーションを作成した。被験者には、このアプリケーションを、いくつかの設問に応じて変更する、という作業を行ってもらった。</p><!-- p 設問は以下の通り--><p>またこれとは別に、アンケートで以下の項目について回答してもらった。</p><ul><li>プログラミングの経験</li><li>Javascriptプログラミングの経験</li><li>sugorokuの操作は分かりやすかったか(5段階)</li></ul></section><!-- section--><!--   h1 実験結果--></section><section><h1>結論</h1><p>本システムを用いることで、Webアプリケーションの非同期処理を、分かりやすく表現・記述することができる。</p></section><!-- section--><!--   h1 謝辞--><section><h1>参考文献</h1><ul><li><a href="http://adaptivepath.com/ideas/ajax-new-approach-web-applications">Ajax: A New Approach to Web Applications - Adaptive Path</a></li><li><a href="http://harp.lib.hiroshima-u.ac.jp/handle/harp/8385">HARP: Ajaxの非同期通信を利用したWebチラシの自動更新およびポータルシステムの構築</a></li><li><a href="http://github.com/caolan/async">caolan/async · GitHub</a></li><li><a href="http://cho45.stfuawsc.com/jsdeferred/">JSDeferred - Asynchronous library in JavaScript. Standalone and Compact</a></li><li><a href="http://bizboard.nikkeibp.co.jp/houjin/cgi-bin/nsearch/md_pdf.pl/0000224168.pdf?NEWS_ID=0000224168&amp;CONTENTS=1&amp;bt=NCC&amp;SYSTEM_ID=HO">企業を熱くする最新テクノロジ Ajax 非同期通信でネット負荷を軽減 ブラウザ操作向上で業務効率改善</a></li><li>三浦琢磨「ウェブサイト構築を目的とした データフロー型ビジュアルプログラミング言語 『ゆば』の開発」、『2007年度早稲田大学修士論文集』、2008</li><li>小澤正樹「GUIの絵コンテ式ビジュアルプログラミング」、『情報処理学会研究報告. ソフトウェア工学研究会報告 94(18)』、17-24、1994-03-01</li><li>G. COSTAGLIOLA, A. DELUCIA, S. OREFICEz AND G. POLESE「A Classification Framework to Support the Design of Visual Languages」, Journal of Visual Languages and Computing, 13, 2002, p.573-600</li></ul></section><section><h1>付録</h1><dl><dt>本論文URL</dt><dd><a href="http://sotsupro.fnobi.com/">http://sotsupro.fnobi.com/</a></dd></dl><dl><dt>本システムソースコード</dt><dd><a href="http://github.com/fnobi/sugoroku">http://github.com/fnobi/sugoroku</a></dd></dl><dl><dt>本システムデモページ</dt><dd><a href="http://sugoroku.fnobi.com">http://sugoroku.fnobi.com</a></dd></dl></section></article></div></body></html>